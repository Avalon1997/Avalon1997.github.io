<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.2.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://fastly.jsdelivr.net'>
  <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  <title>Tsimen V2.0 UCP - CharlesYu</title>

  
    <meta name="description" content="为了与上位机进行必要的交互，需要构建一套通讯体系...">
<meta property="og:type" content="article">
<meta property="og:title" content="Tsimen V2.0 UCP">
<meta property="og:url" content="http://example.com/2022/06/13/Tsimen-V2-0-UCP/index.html">
<meta property="og:site_name" content="CharlesYu">
<meta property="og:description" content="为了与上位机进行必要的交互，需要构建一套通讯体系...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/06/13/Tsimen-V2-0-UCP/ModBus-RTU.png">
<meta property="article:published_time" content="2022-06-12T17:07:10.000Z">
<meta property="article:modified_time" content="2022-06-14T09:13:34.213Z">
<meta property="article:author" content="HaoYu Liu">
<meta property="article:tag" content="Tsimen2.0">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2022/06/13/Tsimen-V2-0-UCP/ModBus-RTU.png">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    


<header class="header">

<div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="/img/Sunflower&GirlRound.png" onerror="javascript:this.classList.add('error');this.src='https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></a><a class="title" href="/"><div class="main">CharlesYu</div><div class="sub cap">Yu Blog</div></a></div>
<nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/notes">随笔</a><a class="nav-item" href="/about/">关于</a></nav></header>

<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D"><span class="toc-text">一、 整体介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%80%9A%E8%AE%AF%E5%BD%A2%E5%BC%8F"><span class="toc-text">1. 通讯形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-CRC-%E6%A0%A1%E9%AA%8C%E7%A0%81%E5%BD%A2%E5%BC%8F"><span class="toc-text">2. CRC 校验码形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">3. 注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E5%85%B7%E4%BD%93%E6%8C%87%E4%BB%A4-%EF%BC%88%E5%BE%85%E5%AE%9A11%E6%9D%A1%EF%BC%89"><span class="toc-text">二、 具体指令 （待定11条）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Tsimen-2000-%E7%AB%AF"><span class="toc-text">1. Tsimen-2000 端</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A0-%E5%85%A8%E5%B1%80%E5%A4%8D%E4%BD%8D%E6%8C%87%E4%BB%A4"><span class="toc-text">Ⅰ. 全局复位指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A1-%E8%AF%BB%E5%8F%96%E4%BC%A0%E6%84%9F%E5%99%A8%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-text">Ⅱ. 读取传感器版本号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A2-%E8%AE%BE%E7%BD%AE%E5%85%89%E8%B0%B1%E4%BB%AA%E7%A7%AF%E5%88%86%E6%97%B6%E9%97%B4"><span class="toc-text">Ⅲ. 设置光谱仪积分时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A3-%E6%9F%A5%E8%AF%A2%E5%85%89%E8%B0%B1%E4%BB%AA%E5%BD%93%E5%89%8D%E7%A7%AF%E5%88%86%E6%97%B6%E9%97%B4"><span class="toc-text">Ⅳ. 查询光谱仪当前积分时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A4-%E8%AE%BE%E7%BD%AE%E5%85%89%E8%B0%B1%E4%BB%AA%E5%B9%B3%E5%9D%87%E6%AC%A1%E6%95%B0"><span class="toc-text">Ⅴ. 设置光谱仪平均次数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A5-%E6%9F%A5%E8%AF%A2%E5%85%89%E8%B0%B1%E4%BB%AA%E5%BD%93%E5%89%8D%E5%B9%B3%E5%9D%87%E6%AC%A1%E6%95%B0"><span class="toc-text">Ⅵ. 查询光谱仪当前平均次数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A6-%E8%AF%BB%E5%8F%96%E6%9A%97%E7%94%B5%E6%B5%81%E6%9D%A1%E4%BB%B6%E4%B8%8B%E5%85%89%E8%B0%B1%E4%BB%AA%E6%95%B0%E6%8D%AE"><span class="toc-text">Ⅶ. 读取暗电流条件下光谱仪数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A7-%E8%AF%BB%E5%8F%96%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E6%9D%A1%E4%BB%B6%E4%B8%8B%E5%85%89%E8%B0%B1%E4%BB%AA%E6%95%B0%E6%8D%AE"><span class="toc-text">Ⅷ. 读取参考信号条件下光谱仪数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A8-%E8%AF%BB%E5%8F%96%E6%A0%B7%E5%93%81%E4%BF%A1%E5%8F%B7%E6%9D%A1%E4%BB%B6%E4%B8%8B%E5%85%89%E8%B0%B1%E4%BB%AA%E6%95%B0%E6%8D%AE"><span class="toc-text">Ⅸ. 读取样品信号条件下光谱仪数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A9-%E4%B8%80%E9%94%AE%E8%8E%B7%E5%8F%96%E6%9A%97%E3%80%81%E5%8F%82%E3%80%81%E6%A0%B7%E5%85%89%E8%B0%B1%E4%BB%AA%E6%95%B0%E6%8D%AE"><span class="toc-text">Ⅹ. 一键获取暗、参、样光谱仪数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A9%E2%85%A0-%E8%AF%BB%E5%8F%96%E5%A4%96%E7%BD%AE%E4%BC%A0%E6%84%9F%E5%99%A8%E6%B8%A9%E5%BA%A6%E6%B9%BF%E5%BA%A6%E3%80%81%E7%89%87%E5%86%85%E4%BC%A0%E6%84%9F%E5%99%A8%E6%B8%A9%E5%BA%A6"><span class="toc-text">ⅩⅠ. 读取外置传感器温度湿度、片内传感器温度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A9%E2%85%A1-%E8%AF%BB%E5%8F%96%E4%BC%A0%E6%84%9F%E5%99%A8%E6%B3%A2%E9%95%BF%E5%80%BC"><span class="toc-text">ⅩⅡ. 读取传感器波长值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A9%E2%85%A2-%E5%86%99%E5%85%A5%E6%B3%A2%E9%95%BF%E7%B3%BB%E6%95%B0"><span class="toc-text">ⅩⅢ. 写入波长系数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%94%B5%E5%8A%A8%E5%88%B7%E6%9C%BA%E7%AB%AF"><span class="toc-text">2. 电动刷机端</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A0-%E4%B8%80%E6%AC%A1%E6%80%A7%E6%B8%85%E6%B4%81%E9%95%9C%E5%A4%B4"><span class="toc-text">Ⅰ. 一次性清洁镜头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A0-%E5%BC%80%E5%90%AF%E5%BE%AA%E7%8E%AF%E6%B8%85%E6%B4%81%E9%95%9C%E5%A4%B4"><span class="toc-text">Ⅰ. 开启循环清洁镜头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%85%A0-%E5%85%B3%E9%97%AD%E5%BE%AA%E7%8E%AF%E6%B8%85%E6%B4%81%E9%95%9C%E5%A4%B4"><span class="toc-text">Ⅰ. 关闭循环清洁镜头</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%99%84%E5%BD%95"><span class="toc-text">三、附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%951-CRC%E6%A0%A1%E9%AA%8C%E4%BB%A3%E7%A0%81"><span class="toc-text">附录1 CRC校验代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%952-%E6%9A%97%E4%BF%A1%E5%8F%B7%E6%95%B0%E6%8D%AE"><span class="toc-text">附录2 暗信号数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%953-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E6%95%B0%E6%8D%AE"><span class="toc-text">附录3 参考信号数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%954-%E6%A0%B7%E5%93%81%E4%BF%A1%E5%8F%B7%E6%95%B0%E6%8D%AE"><span class="toc-text">附录4 样品信号数据</span></a></li></ol></li></ol></div></div></div>


</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Tsimen/">Tsimen</a></div><div id="post-meta">发布于&nbsp;<time datetime="2022-06-12T17:07:10.000Z">2022-06-13</time></div></div>

<article class='content md post'>
<h1 class="article-title"><span>Tsimen V2.0 UCP</span></h1>
<h1 id="Tsimen2-0-通讯协议"><a href="#Tsimen2-0-通讯协议" class="headerlink" title="Tsimen2.0 通讯协议"></a><center>Tsimen2.0 通讯协议</center></h1><h2 id="一、-整体介绍"><a href="#一、-整体介绍" class="headerlink" title="一、 整体介绍"></a>一、 整体介绍</h2><p>Tsimen2.0 <mark class="tag-plugin mark" color="red">底层下位机使用</mark> STM32F103C8T6 芯片与设备进行交互，采集数据、驱动设备，并将数据通过 RS485 通讯协议传至上位机（Raspberry），供上位机使用。</p>
<h3 id="1-通讯形式"><a href="#1-通讯形式" class="headerlink" title="1. 通讯形式"></a>1. 通讯形式</h3><p>本项目中，数据通讯采用标准 RS485 传输协议和 ModBus-RTU 通讯协议。</p>
<ul>
<li><p>说明1：<strong>RS-485仅是一个电气传输标准，描述了接口的物理层，像协议、时序、串行或并行数据以及链路全部由设计者或更高层协议定义。 RS485定义的是使用平衡（也称作差分）多点传输线的驱动器（driver）和接收器（receiver）的电气特性。</strong></p>
</li>
<li><p>说明1： <strong>ModBus RTU（远程终端模式）是一种串行通信协议，是一种紧凑的，采用二进制表示数据的方式。RTU格式后续的命令&#x2F;数据带有循环冗余校验的校验和</strong></p>
</li>
</ul>
<!-- ![ModBus-RTU 数据格式](./Tsimen-V2-0-UCP/ModBus-RTU%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE%E6%A0%BC%E5%BC%8F.png) -->
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/2022/06/13/Tsimen-V2-0-UCP/ModBus-RTU.png" class="lazy" title="ModBus-RTU数据格式">

<ol>
<li>波特率： 115200</li>
<li>地址码： 8 位二进制（例：0x01）</li>
<li>功能码： 8 位二进制（例：读数据，0x06）</li>
<li>数据位： 根据指令的不同，数据位有所不同</li>
<li>校验位： 16 位二进制 CRC-16&#x2F;ModBus校验码。</li>
<li>停止位： 无。</li>
</ol>
<h3 id="2-CRC-校验码形式"><a href="#2-CRC-校验码形式" class="headerlink" title="2. CRC 校验码形式"></a>2. CRC 校验码形式</h3><ol>
<li>模式： CRC-16&#x2F;ModBus</li>
<li>CRC-16 校验多项式： x<sup>16</sup>+x<sup>15</sup>+x<sup>2</sup>+1 —— 8005</li>
<li>初始值： FFFF</li>
<li>结果或异或值： 0000</li>
</ol>
<p><strong><font color= 'gray'><center>CRC校验程序代码在附录</center></font></strong></p>
<h3 id="3-注意事项"><a href="#3-注意事项" class="headerlink" title="3. 注意事项"></a>3. 注意事项</h3><h2 id="二、-具体指令-（待定11条）"><a href="#二、-具体指令-（待定11条）" class="headerlink" title="二、 具体指令 （待定11条）"></a>二、 具体指令 （待定11条）</h2><h3 id="1-Tsimen-2000-端"><a href="#1-Tsimen-2000-端" class="headerlink" title="1. Tsimen-2000 端"></a>1. Tsimen-2000 端</h3><p>Tsimen-2000 是水质光谱检测传感器，用于……<br><strong>发送指令格式：</strong> {1字节地址码+1字节功能码+4字节数据位+2字节CRC校验位}<br>注: （ xx 是十六进制积分时间，自行设置。 HC 是 CRC 校验高位， LC 是 CRC 校验低位 ） </p>
<p><strong>返回指令格式：</strong> </p>
<blockquote>
<p>设置成功： 01 52 49 96 DC {1字节地址码+2字节数据+2字节CRC校验位}<br>设置失败： 01 46 41 50 D2 {1字节地址码+2字节数据+2字节CRC校验位}<br>返回数据： 不定长数据，根据指令不同数据不同<br>CRC校验失败： 01 43 52 43 45 52 04 16 {1字节地址码+5字节数据+CRC校验位}<br>暂时没有2字节校验位</p>
</blockquote>
<p><strong><font color= 'gray'><center>所有光谱仪数据均在附录显示</center></font></strong></p>
<h4 id="Ⅰ-全局复位指令"><a href="#Ⅰ-全局复位指令" class="headerlink" title="Ⅰ. 全局复位指令"></a>Ⅰ. 全局复位指令</h4><p><strong>上位机发送：</strong> 01 01 00 00 00 00 0A 3C<br><strong>Tsimen-2000 端返回值：</strong><br>设置成功 01 52 49 96 DC ；<br>设置失败 01 46 41 50 D2 ；<br>CRC校验失败 01 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 1.5s<br><strong>注意：</strong> Tsimen-2000 端上电后请等待 2~3s 后开启串口，避免因传感器端上电复位导致的信号波动。</p>
<h4 id="Ⅱ-读取传感器版本号"><a href="#Ⅱ-读取传感器版本号" class="headerlink" title="Ⅱ. 读取传感器版本号"></a>Ⅱ. 读取传感器版本号</h4><p><strong>上位机发送：</strong> 01 02 00 00 00 00 0A 78<br><strong>Tsimen-2000 端返回值：</strong><br>每个传感器有固定的 Version （例：TS-2000-000001） {14字节数据}</p>
<p><strong>响应时间：</strong> 50 ms</p>
<h4 id="Ⅲ-设置光谱仪积分时间"><a href="#Ⅲ-设置光谱仪积分时间" class="headerlink" title="Ⅲ. 设置光谱仪积分时间"></a>Ⅲ. 设置光谱仪积分时间</h4><p><strong>上位机发送：</strong> 01 03 xx xx xx xx HC LC<br><strong>Tsimen-2000 端返回值：</strong><br>设置成功 01 52 49 96 DC ；<br>设置失败 01 46 41 50 D2 ；<br>CRC校验失败 01 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 50 ms  </p>
<h4 id="Ⅳ-查询光谱仪当前积分时间"><a href="#Ⅳ-查询光谱仪当前积分时间" class="headerlink" title="Ⅳ. 查询光谱仪当前积分时间"></a>Ⅳ. 查询光谱仪当前积分时间</h4><p><strong>上位机发送：</strong> 01 04 00 00 00 00 0A F0<br><strong>Tsimen-2000 端返回值：</strong><br>积分时间：00 00 01 F4 {4字节积分时间数据}</p>
<p><strong>响应时间：</strong> 50 ms</p>
<h4 id="Ⅴ-设置光谱仪平均次数"><a href="#Ⅴ-设置光谱仪平均次数" class="headerlink" title="Ⅴ. 设置光谱仪平均次数"></a>Ⅴ. 设置光谱仪平均次数</h4><p><strong>上位机发送：</strong> 01 05 xx xx 00 00 HC LC<br><strong>Tsimen-2000 端返回值：</strong><br>设置成功 01 52 49 96 DC ；<br>设置失败 01 46 41 50 D2 ；<br>CRC校验失败 01 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 50 ms</p>
<h4 id="Ⅵ-查询光谱仪当前平均次数"><a href="#Ⅵ-查询光谱仪当前平均次数" class="headerlink" title="Ⅵ. 查询光谱仪当前平均次数"></a>Ⅵ. 查询光谱仪当前平均次数</h4><p><strong>上位机发送：</strong> 01 06 00 00 00 00 CA 89<br><strong>Tsimen-2000 端返回值：</strong><br>平均次数：00 32 {2字节平均册数数据}<br><strong>响应时间：</strong> 50 ms</p>
<h4 id="Ⅶ-读取暗电流条件下光谱仪数据"><a href="#Ⅶ-读取暗电流条件下光谱仪数据" class="headerlink" title="Ⅶ. 读取暗电流条件下光谱仪数据"></a>Ⅶ. 读取暗电流条件下光谱仪数据</h4><p><strong>上位机发送：</strong> 01 07 00 00 00 00 0A B4<br><strong>Tsimen-2000 端返回值：</strong>  总计 2063 字节<br><font color='red'>暗信号数据见附录2</font>  </p>
<p><strong>响应时间：</strong> 随积分时间与平均次数的变化而变化，默认为：500us积分时间，50次平均</p>
<h4 id="Ⅷ-读取参考信号条件下光谱仪数据"><a href="#Ⅷ-读取参考信号条件下光谱仪数据" class="headerlink" title="Ⅷ. 读取参考信号条件下光谱仪数据"></a>Ⅷ. 读取参考信号条件下光谱仪数据</h4><p><strong>上位机发送：</strong> 01 08 00 00 00 00 0B E0<br><strong>Tsimen-2000 端返回值：</strong>  总计 2063 字节<br><font color='red'>参考信号数据见附录3</font>  </p>
<p><strong>响应时间：</strong> 随积分时间与平均次数的变化而变化，默认为：500us积分时间，50次平均</p>
<h4 id="Ⅸ-读取样品信号条件下光谱仪数据"><a href="#Ⅸ-读取样品信号条件下光谱仪数据" class="headerlink" title="Ⅸ. 读取样品信号条件下光谱仪数据"></a>Ⅸ. 读取样品信号条件下光谱仪数据</h4><p><strong>上位机发送：</strong> 01 09 00 00 00 00 CB DD<br><strong>Tsimen-2000 端返回值：</strong>  总计 2063 字节<br><font color='red'>样品信号数据见附录4</font>  </p>
<p><strong>响应时间：</strong> 随积分时间与平均次数的变化而变化，默认为：500us积分时间，50次平均</p>
<h4 id="Ⅹ-一键获取暗、参、样光谱仪数据"><a href="#Ⅹ-一键获取暗、参、样光谱仪数据" class="headerlink" title="Ⅹ. 一键获取暗、参、样光谱仪数据"></a>Ⅹ. 一键获取暗、参、样光谱仪数据</h4><p><strong>上位机发送：</strong> 01 0A 00 00 00 00 CB 99<br><strong>Tsimen-2000 端返回值：</strong>  总计 6189 字节<br><font color='red'>三种信号数据</font>  </p>
<p><strong>响应时间：</strong> 随积分时间与平均次数的变化而变化，默认为：500us积分时间，50次平均</p>
<h4 id="ⅩⅠ-读取外置传感器温度湿度、片内传感器温度"><a href="#ⅩⅠ-读取外置传感器温度湿度、片内传感器温度" class="headerlink" title="ⅩⅠ. 读取外置传感器温度湿度、片内传感器温度"></a>ⅩⅠ. 读取外置传感器温度湿度、片内传感器温度</h4><p><strong>上位机发送：</strong> 01 0B 00 00 00 00 0B A4<br><strong>Tsimen-2000 端返回值：</strong><br>24.3459.4343.32  {5字节传感器温度数据+5字节传感器湿度数据+5字节板内温度数据}</p>
<p><strong>响应时间：</strong> 100 ms</p>
<h4 id="ⅩⅡ-读取传感器波长值"><a href="#ⅩⅡ-读取传感器波长值" class="headerlink" title="ⅩⅡ. 读取传感器波长值"></a>ⅩⅡ. 读取传感器波长值</h4><p><strong>上位机发送：</strong> 01 0C 00 00 00 00 CB 11<br><strong>Tsimen-2000 端返回值：</strong>  总计 8192 字节<br><font color = red>波长值数据见附录5</font></p>
<p><strong>响应时间：</strong> 待定</p>
<h4 id="ⅩⅢ-写入波长系数"><a href="#ⅩⅢ-写入波长系数" class="headerlink" title="ⅩⅢ. 写入波长系数"></a>ⅩⅢ. 写入波长系数</h4><p><strong>上位机发送：</strong> 01 0D xx xx … xx xx HC LC  {指令总长度 52 字节}<br><strong>Tsimen-2000 端返回值：</strong><br>设置成功 01 52 49 96 DC ；<br>设置失败 01 46 41 50 D2 ；<br>CRC校验失败 01 43 52 43 45 52 04 16 </p>
<p>系数写入指令示例：<br>01 | 地址码<br>0D | 指令码<br>00 00 00 00 00 00 00 00 | 系数A<sub>5</sub><br>3D B1 7F 3B 90 F5 35 E7 | 系数A<sub>4</sub><br>BE 6D 29 7A 01 D1 81 76 | 系数A<sub>3</sub><br>3E F3 AA 03 46 F3 4C E1 | 系数A<sub>2</sub><br>3F E5 6F 47 42 CC 1F 27 | 系数A<sub>1</sub><br>40 66 BA E8 7E 6E 46 1C | 系数A<sub>0</sub><br>B1 69 | 校验码  </p>
<p><strong>响应时间：</strong> 50ms</p>
<h3 id="2-电动刷机端"><a href="#2-电动刷机端" class="headerlink" title="2. 电动刷机端"></a>2. 电动刷机端</h3><p>电动刷机用于清洁 Tsimen-2000 传感器镜头，以避免油污、泥沙等杂质遮挡光路。</p>
<h4 id="Ⅰ-一次性清洁镜头"><a href="#Ⅰ-一次性清洁镜头" class="headerlink" title="Ⅰ. 一次性清洁镜头"></a>Ⅰ. 一次性清洁镜头</h4><p><strong>上位机发送：</strong> 02 01 00 00 00 00 39 3C<br><strong>电动刷机端返回值：</strong><br>设置成功 02 52 49 96 DC ；<br>设置失败 02 46 41 50 D2 ；<br>CRC校验失败 02 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 30 ms</p>
<h4 id="Ⅰ-开启循环清洁镜头"><a href="#Ⅰ-开启循环清洁镜头" class="headerlink" title="Ⅰ. 开启循环清洁镜头"></a>Ⅰ. 开启循环清洁镜头</h4><p><strong>上位机发送：</strong> 02 02 00 00 00 00 39 78<br><strong>电动刷机端返回值：</strong><br>设置成功 02 52 49 96 DC ；<br>设置失败 02 46 41 50 D2 ；<br>CRC校验失败 02 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 30 ms</p>
<h4 id="Ⅰ-关闭循环清洁镜头"><a href="#Ⅰ-关闭循环清洁镜头" class="headerlink" title="Ⅰ. 关闭循环清洁镜头"></a>Ⅰ. 关闭循环清洁镜头</h4><p><strong>上位机发送：</strong> 02 03 00 00 00 00 F9 45<br><strong>电动刷机端返回值：</strong><br>设置成功 02 52 49 96 DC ；<br>设置失败 02 46 41 50 D2 ；<br>CRC校验失败 02 43 52 43 45 52 04 16</p>
<p><strong>响应时间：</strong> 待舵机归为后返回指令（50ms~700ms）</p>
<h2 id="三、附录"><a href="#三、附录" class="headerlink" title="三、附录"></a>三、附录</h2><h3 id="附录1-CRC校验代码"><a href="#附录1-CRC校验代码" class="headerlink" title="附录1 CRC校验代码"></a>附录1 CRC校验代码</h3><figure class="highlight c"><figcaption><span>CRCcode</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief CRC16 check code. The function is used for data verification when communicating with PC.</span></span><br><span class="line"><span class="comment">*  </span></span><br><span class="line"><span class="comment">* @param pdata </span></span><br><span class="line"><span class="comment">* @param len </span></span><br><span class="line"><span class="comment">* @return uint16_t </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">uint16_t</span> <span class="title function_">ModBus_CRC16</span><span class="params">( <span class="type">uint8_t</span> *pdata, <span class="type">int</span> len)</span>     <span class="comment">//polynomial: 8005</span></span><br><span class="line">&#123;</span><br><span class="line">crc = <span class="number">0xFFFF</span>;</span><br><span class="line"><span class="keyword">for</span> ( CRC_j=<span class="number">0</span>; CRC_j&lt;len;CRC_j++)</span><br><span class="line">&#123;</span><br><span class="line">    crc=crc^pdata[CRC_j];</span><br><span class="line">    <span class="keyword">for</span> ( CRC_i=<span class="number">0</span>; CRC_i&lt;<span class="number">8</span>; CRC_i++)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>( ( crc&amp;<span class="number">0x0001</span>) &gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        crc=crc&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        crc=crc^ <span class="number">0xA001</span>;                            <span class="comment">//We take 8005 in reverse.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    crc=crc&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> crc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="附录2-暗信号数据"><a href="#附录2-暗信号数据" class="headerlink" title="附录2 暗信号数据"></a>附录2 暗信号数据</h3><p>06 AA 55 BB 44 CC 33 DD 22 0A DC 0A DD 0A DE 0A D9 0A C8 0A D2 0A C3 0A D8 0A DE 0A D1 0A DF 0A DB 0A D7 0A C4 0A E4 0A EE 0A EC 0A D9 0A B3 0A D6 0A D3 0A DC 0A E0 0A F7 0A D6 0A D9 0A E2 0A DB 0A CD 0A E1 0A D9 0A E8 0A F0 0A ED 0A DA 0A DF 0A C3 0B 05 0A E6 0A F1 0A ED 0A E0 0A D1 0A E2 0A E8 0B 01 0A E3 0A F0 0A E5 0B 02 0A DB 0A F7 0A E5 0A EF 0A F3 0A FE 0B 09 0A E6 0A F6 0A EF 0A F3 0A E9 0A FB 0B 06 0A F5 0A E0 0A E7 0A EC 0A E9 0B 02 0A EC 0A E6 0A FB 0A FA 0A F2 0A F4 0A E7 0A DA 0A F1 0A EB 0A D9 0A E7 0A E0 0A F0 0A E6 0A E8 0A DE 0A E4 0A DF 0A EA 0A DA 0A F0 0A D2 0A E0 0A C6 0A E9 0A DB 0A D8 0A F8 0A C3 0A C7 0A DF 0A E2 0A D7 0A DD 0A D5 0A EB 0A DB 0A DA 0A F5 0A DE 0A EA 0A EE 0A DB 0A C4 0A DB 0A DE 0A D5 0A D9 0A EC 0A D6 0B 01 0A C6 0A F2 0A D9 0A E9 0A E3 0A DC 0A D2 0A DA 0A E7 0A D0 0A F2 0A DE 0A D1 0A D8 0A DC 0A DF 0A D3 0A E3 0A D9 0A D5 0A D7 0A C8 0A D8 0A C7 0A C2 0A CD 0A C2 0A D4 0A D0 0A D8 0A CC 0A E8 0A C6 0A D4 0A E8 0A D9 0A D1 0A CA 0A C1 0A BA 0A D2 0A CD 0A CB 0A DA 0A DF 0A D0 0A D4 0A BD 0A C9 0A D7 0A E5 0A D9 0A C0 0A CE 0A D8 0A CB 0A CB 0A E0 0A E2 0A DD 0A BD 0A E0 0A C9 0A D5 0A D4 0A DB 0A B8 0A CC 0A C9 0A DC 0A C6 0A DE 0A E2 0A BA 0A C3 0A DE 0A F2 0A CE 0A C4 0A C6 0A CF 0A DE 0A BF 0A E6 0A D3 0A E3 0A D6 0A DA 0A C3 0A D3 0A D3 0A CD 0A C0 0A D7 0A D4 0A DD 0A C0 0A D4 0A DE 0A DE 0A D1 0A C0 0A DB 0A ED 0A F1 0A BA 0A CC 0A C3 0A CC 0A D5 0A D7 0A DF 0A D4 0A DE 0A D2 0A E3 0A DD 0A E2 0A D6 0A E5 0A EB 0A E3 0A D0 0A DC 0A E9 0A EA 0A CE 0A D7 0A DF 0A DE 0A E0 0A DC 0A CB 0A E7 0A CE 0A E5 0A E8 0A D5 0A D8 0A D1 0A CA 0A E7 0A E4 0A E3 0A D9 0A CF 0A CA 0A E9 0A C5 0A CB 0A C2 0A CE 0A D6 0A D2 0A C0 0A D6 0A E3 0A D7 0A CD 0A D5 0A C1 0A DE 0A C8 0A CC 0A D7 0A D4 0A D1 0A D2 0A EC 0A CA 0A B8 0A D9 0A C8 0A C0 0A D7 0A D4 0A C1 0A C6 0A C6 0A C5 0A D9 0A D9 0A C5 0A C7 0A C5 0A E6 0A C7 0A F3 0A C5 0A D5 0A BB 0A D8 0A AF 0A D3 0A CA 0A CF 0A D7 0A D8 0A CF 0A CB 0A E6 0A D2 0A C5 0A CF 0A C8 0A DB 0A DC 0A CB 0A C1 0A B9 0A C7 0A D4 0A AE 0A C8 0A D4 0A EF 0A C1 0A D9 0A CB 0A E5 0A D8 0A D8 0A C4 0A C2 0A D1 0A D2 0A DB 0A B4 0A BA 0A C6 0A CA 0A D4 0A F0 0A CB 0A BC 0A D2 0A C8 0A D3 0A C5 0A DE 0A B6 0A E2 0A BC 0A D3 0A DA 0A CC 0A D1 0A F5 0A B3 0A DF 0A D4 0A CF 0A CD 0A CF 0A BB 0A D4 0A CF 0A D9 0A D5 0A C3 0A E1 0A BF 0A D7 0A CE 0A E1 0A CF 0A CC 0A CF 0A CB 0A D4 0A CD 0A C7 0A D0 0A D8 0A D3 0A D1 0A C0 0A DC 0A CA 0A DB 0A A5 0A D8 0A C5 0A DB 0A CD 0A D2 0A BE 0A D6 0A D2 0A CE 0A C4 0A D3 0A CB 0A C3 0A BC 0A C6 0A CC 0A CD 0A DB 0A C8 0A D7 0A D3 0A B8 0A CB 0A C8 0A D0 0A CA 0A BB 0A CB 0A C3 0A E3 0A BE 0A 9E 0A CB 0A C8 0A CB 0A D0 0A C7 0A C1 0A D2 0A B7 0A C8 0A C1 0A C0 0A C7 0A C8 0A B0 0A AA 0A CD 0A B0 0A C0 0A D2 0A B4 0A BB 0A A6 0A BD 0A BE 0A C6 0A C3 0A C1 0A BB 0A C8 0A CC 0A C3 0A 9E 0A C8 0A A1 0A C2 0A CE 0A B3 0A A7 0A BF 0A B4 0A B9 0A AC 0A A6 0A A6 0A C4 0A C1 0A C9 0A C5 0A B5 0A B6 0A B5 0A BB 0A AE 0A D6 0A C4 0A C1 0A D5 0A C8 0A CB 0A B6 0A BD 0A BF 0A B1 0A CF 0A B9 0A B3 0A B4 0A A5 0A BA 0A B5 0A E0 0A C2 0A C8 0A BC 0A DA 0A BD 0A A6 0A B8 0A DA 0A D4 0A CD 0A B6 0A D0 0A BA 0A C7 0A C8 0A C4 0A C5 0A B4 0A BF 0A C5 0A C0 0A B4 0A C2 0A C8 0A BB 0A CE 0A DA 0A C5 0A BA 0A DA 0A C3 0A E0 0A C5 0A CD 0A E4 0A CC 0A B3 0A D5 0A D3 0A CE 0A C4 0A D0 0A BA 0A D2 0A C1 0A D3 0A B1 0A CF 0A D2 0A DC 0A D6 0A CC 0A C2 0A CB 0A CC 0A D1 0A CE 0A BA 0A C1 0A CC 0A DA 0A D7 0A C5 0A AA 0A D4 0A D5 0A D2 0A C4 0A B5 0A C1 0A D2 0A CE 0A C7 0A B5 0A B6 0A CD 0A C1 0A CF 0A CA 0A DE 0A BF 0A C7 0A C9 0A C6 0A B7 0A C6 0A D1 0A C2 0A BF 0A E5 0A B1 0A BF 0A BA 0A CD 0A CD 0A CE 0A C7 0A D6 0A B4 0A D0 0A BD 0A CE 0A BD 0A CC 0A E4 0A D1 0A C4 0A C5 0A BD 0A D6 0A C1 0A CB 0A C7 0A B2 0A D5 0A C9 0A B1 0A C1 0A BA 0A BB 0A B7 0A DB 0A BD 0A CF 0A C1 0A B6 0A B3 0A C8 0A B6 0A C6 0A D3 0A BC 0A CE 0A C2 0A C5 0A D3 0A E4 0A B4 0A B5 0A BA 0A BA 0A D5 0A BE 0A CA 0A AE 0A BC 0A C0 0A B4 0A BC 0A DE 0A B5 0A C9 0A C4 0A AD 0A AA 0A C0 0A BB 0A BB 0A BB 0A AA 0A B7 0A CC 0A BF 0A B1 0A B9 0A D4 0A BC 0A BD 0A D7 0A BE 0A BB 0A C4 0A B8 0A D9 0A CE 0A CF 0A B3 0A CB 0A B1 0A C1 0A BC 0A BB 0A B0 0A C5 0A B3 0A C5 0A C2 0A CF 0A D7 0A C5 0A CE 0A CF 0A C4 0A E9 0A CA 0A BF 0A D8 0A D3 0A C1 0A CB 0A D4 0A C7 0A DA 0A D3 0A C6 0A D1 0A CC 0A BF 0A BF 0A E1 0A C6 0A E1 0A BD 0A C4 0A B4 0A D4 0A B9 0A C8 0A BC 0A D5 0A D6 0A BA 0A D3 0A C4 0A BA 0A B0 0A DE 0A D1 0A B7 0A D6 0A B7 0A CA 0A E1 0A CD 0A B7 0A C6 0A C7 0A D8 0A B8 0A C8 0A B4 0A C7 0A C5 0A C3 0A BB 0A C6 0A BE 0A C6 0A BB 0A D0 0A AF 0A D4 0A CE 0A BC 0A A8 0A B8 0A A9 0A CB 0A C4 0A BD 0A B7 0A CC 0A B3 0A A8 0A D8 0A C1 0A AB 0A B9 0A AD 0A AF 0A B8 0A A8 0A A3 0A C0 0A B9 0A AF 0A B5 0A C5 0A B1 0A A8 0A 9F 0A B4 0A AE 0A C6 0A A7 0A B7 0A BB 0A BD 0A AC 0A AA 0A B2 0A BB 0A BA 0A A0 0A A7 0A C1 0A D9 0A 9B 0A B3 0A BF 0A 9B 0A C0 0A B7 0A D0 0A AA 0A C5 0A AF 0A C0 0A C4 0A CA 0A AC 0A D0 0A A1 0A CA 0A BB 0A CF 0A C4 0A C6 0A A9 0A C2 0A BA 0A D1 0A CF 0A C6 0A C8 0A D8 0A C1 0A BD 0A D4 0A C9 0A CE 0A D1 0A B3 0A B6 0A C0 0A D4 0A A5 0A DA 0A BC 0A C8 0A C1 0A C0 0A BE 0A D3 0A B0 0A AC 0A BC 0A CA 0A BB 0A C4 0A B0 0A CF 0A AC 0A D6 0A BF 0A C8 0A B4 0A B5 0A A7 0A CC 0A DF 0A CD 0A CA 0A C3 0A B8 0A D4 0A CF 0A C4 0A BE 0A D0 0A C2 0A D0 0A AA 0A CC 0A CB 0A C8 0A E2 0A AE 0A CA 0A CD 0A BE 0A C4 0A C6 0A C4 0A BF 0A C4 0A C7 0A CF 0A C0 0A C3 0A C4 0A C4 0A DF 0A B7 0A BC 0A D3 0A C3 0A C2 0A C1 0A D7 0A D0 0A CD 0A C1 0A C7 0A D5 0A B9 0A C7 0A CB 0A CB 0A BA 0A A7 0A CD 0A BF 0A CA 0A 9B 0A A9 0A C2 0A D8 0A A8 0A D1 0A B6 0A B4 0A BA 0A D5 0A D1 0A C8 0A B6 0A C1 0A B2 0A BF 0A C1 0A A6 0A C2 0A C6 0A A9 0A C3 0A A7 0A CA 0A C5 0A C3 0A B4 0A C9 0A BE 0A C2 0A BA 0A A9 0A B5 0A D3 0A B7 0A C0 0A A9 0A B1 0A CF 0A C6 0A AF 0A C9 0A C6 0A BB 0A A7 0A CA 0A AE 0A B3 0A A0 0A CD 0A B7 0A CD 0A CD 0A B5 0A B2 0A CA 0A B4 0A A9 0A BB 0A CD 0A AD 0A C5 0A BA 0A B9 0A B6 0A C8 0A AC 0A CA 0A BF 0A D3 0A AE 0A D4 0A CD 0A C6 0A D3 0A B7 0A C5 0A E0 0A B6 0A BC 0A BA 0A CE 0A DA 0A BD 0A AB 0A D3 0A B6 0A C4 0A C4 0A CB 0A B9 0A C9 0A B7 0A C1 0A B4 0A CA 0A A6 0A B6 0A A1 0A B3 0A C9 0A C6 0A AB 0A B8 DD DD AA AA 0A B9 </p>
<h3 id="附录3-参考信号数据"><a href="#附录3-参考信号数据" class="headerlink" title="附录3 参考信号数据"></a>附录3 参考信号数据</h3><p>06 AA 55 BB 44 CC 33 DD 22 0A F1 0A F1 0A F4 0A ED 0A E1 0A E7 0A D8 0A EE 0A F7 0A E7 0A F6 0A F3 0A F1 0A DB 0B 00 0B 0A 0B 0A 0A FC 0A DB 0B 00 0B 04 0B 0E 0B 12 0B 30 0B 15 0B 18 0B 24 0B 23 0B 19 0B 34 0B 26 0B 38 0B 40 0B 44 0B 3B 0B 46 0B 30 0B 72 0B 5C 0B 68 0B 6C 0B 61 0B 53 0B 5D 0B 69 0B 7E 0B 61 0B 6D 0B 64 0B 8B 0B 60 0B 85 0B 78 0B 84 0B 90 0B 9B 0B AC 0B 98 0B AA 0B AE 0B B6 0B B8 0B D8 0B F2 0B E8 0B E6 0B F7 0C 0E 0C 1C 0C 5B 0C 80 0C B6 0D 46 0E 04 0E A0 0E A6 0D FF 0D A2 0D 72 0D 25 0C F5 0D 1E 0D 24 0D 31 0D 27 0D 36 0D 21 0D 23 0D 29 0D 48 0D 5D 0D BB 0D FC 0E A1 0E F7 0F 12 0E 96 0E 3F 0E 69 0E AE 0F A3 10 64 10 1E 0F 3A 0E 91 0E 06 0D D3 0D CB 0D F6 0E 1F 0D C1 0D 90 0D 7C 0D 7A 0D 7E 0D CC 0E 27 0E 7C 0E FB 0F EE 10 78 10 65 0F 4E 0E DE 0E 7D 0E 5F 0E 2A 0E 18 0E 1D 0E 5E 0E A8 0E 8D 0E 9E 0E 8B 0E 69 0E 7E 0E F0 0F 4F 0F 34 0E EC 0E A9 0E 89 0E 75 0E 88 0E D5 0E DC 0E EF 0E FE 0E FE 0F 3A 0F 75 0F D6 10 3A 10 C1 10 AC 10 8E 10 CA 10 F5 11 21 11 5B 11 3D 10 FA 10 E3 10 E9 11 32 11 AD 11 C3 11 81 11 44 11 20 11 77 11 E3 12 15 12 0F 12 23 12 5B 12 31 11 C2 11 49 11 0E 10 E7 10 C4 10 97 10 A1 10 50 10 41 10 3D 10 4C 10 40 10 69 10 69 10 D2 10 FF 11 57 11 69 11 44 11 5A 11 63 11 66 11 2E 11 52 11 B1 11 B0 11 5B 10 F9 10 F7 10 F3 11 22 11 36 11 21 10 E0 10 DE 10 F4 11 2F 11 8E 12 0D 12 13 11 E0 11 A6 11 89 11 49 11 00 10 E0 10 CA 10 C7 10 DA 10 E5 10 C7 10 FB 10 FA 10 DB 10 B6 10 A1 10 9F 10 92 10 AE 10 B9 10 CC 10 C5 10 BF 10 D1 11 0E 11 30 11 4C 11 9A 11 FC 12 4D 12 71 12 41 12 28 12 15 12 2D 12 51 12 80 12 B9 12 E1 12 F1 13 4A 13 A8 13 FF 14 50 14 8B 14 F2 15 6F 16 07 16 B5 16 68 15 F9 16 31 17 12 17 EB 18 BF 18 20 16 B3 15 AD 15 1C 14 9B 14 62 14 66 14 36 14 06 13 B5 13 76 13 91 13 7F 13 9F 13 B0 13 81 13 64 13 7C 13 AE 13 C7 14 10 14 94 14 F1 14 F5 14 97 14 2C 13 F1 13 FC 14 23 14 21 14 5F 14 B7 14 EE 15 25 15 44 15 B2 15 E7 16 58 16 44 16 64 16 5C 16 B2 17 23 18 0A 18 8A 18 65 18 60 18 B7 18 D9 18 A2 18 4E 18 1A 18 12 18 22 18 3B 18 6E 18 71 18 7C 18 6B 18 AC 18 FF 19 87 19 C2 1A 3F 1A 4F 1A 3D 19 BB 19 AA 19 64 19 6F 19 95 19 E5 1A 05 1A 00 19 F5 19 DA 1A 0A 1A 03 1A 44 1A 91 1A BA 1B 2F 1B 9B 1B E3 1C 86 1D 49 1D E6 1E D5 1F 80 1E FD 1C 56 19 76 16 A0 15 54 16 3A 18 7B 1A 1A 1B 4B 1A FA 1A 9C 1A 2F 19 FE 1A 2F 1A 5E 1A 43 1A 13 19 DD 19 C0 19 8C 19 34 19 1D 18 B0 18 B7 18 9A 18 BD 18 AD 18 C4 18 FE 19 5C 19 69 19 04 18 AD 18 7F 18 79 18 92 18 AD 18 DE 19 1E 19 21 19 04 18 B5 18 D9 18 CA 18 9F 18 88 18 BE 18 96 18 5B 17 F9 17 B5 17 AB 17 B2 17 CE 18 13 18 67 19 3B 1A 2F 1A D3 1A 55 19 56 18 D9 18 76 18 2E 18 2B 18 04 18 0F 18 09 18 0A 18 29 17 D2 17 91 17 26 16 F8 16 EF 16 DE 16 E9 17 3B 17 5D 17 23 16 F1 16 FC 17 4E 17 83 17 B7 17 E5 18 38 18 4A 18 AA 19 70 1A 41 1B A5 1D D0 21 45 23 D5 22 2F 1E 8F 1C F4 1D 2A 1D E3 1D E3 1C BD 1B 1A 1A 57 1A 6D 1B 76 1B E5 1A 38 18 8E 17 7F 16 C2 16 69 16 7B 16 82 16 84 16 29 15 CB 15 8B 15 6F 15 2B 15 1F 14 EB 14 D3 14 C7 14 D7 14 B0 14 7E 14 81 14 42 14 09 14 08 13 DA 13 B4 13 8C 13 73 13 56 13 23 13 29 12 ED 12 AF 12 9F 12 72 12 7A 12 85 12 DC 12 F0 13 17 12 F3 12 C3 12 4F 12 15 12 14 12 4A 12 5A 12 81 12 B7 13 3B 13 90 13 FB 14 7E 15 49 16 B3 17 13 15 F6 14 8C 13 C7 13 7D 13 C1 14 51 14 8E 14 0B 13 5F 13 17 13 2F 13 79 13 27 12 F7 12 D6 13 08 13 B3 14 82 15 03 14 F6 14 34 13 AD 13 32 12 BE 12 7B 12 97 12 96 12 82 12 23 11 EE 11 A9 11 80 11 65 11 55 11 56 11 84 11 91 11 7F 11 5A 11 2D 11 27 11 1C 11 3A 11 28 11 0D 11 02 11 3C 11 41 11 50 11 4E 11 3C 11 50 11 6F 11 7F 11 A1 11 C8 11 FF 12 01 11 CE 11 D4 11 B8 11 E0 11 E2 12 07 12 29 12 43 12 2B 12 1C 12 1F 12 04 12 02 12 0B 11 B1 11 9A 11 76 11 5C 11 38 11 1D 10 FB 11 0F 10 E0 10 FE 10 DF 10 E9 10 E6 10 E0 11 09 10 F3 10 EA 10 DF 10 EC 11 08 10 F3 11 03 10 F5 10 C7 10 DC 10 E3 10 D9 11 0D 11 1C 11 3C 11 64 11 B0 11 6A 11 26 10 D2 10 A3 10 89 10 A1 10 86 10 BF 10 F9 11 16 11 50 11 66 11 57 11 23 10 ED 10 97 10 8E 10 A2 10 C0 10 D8 10 89 10 63 10 23 10 15 0F E9 0F C1 0F BC 0F C3 0F 8D 0F 91 0F 8B 0F 6D 0F 5D 0F 5E 0F 52 0F 4F 0F 45 0F 33 0F 40 0F 4D 0F 50 0F 52 0F 5F 0F 8F 0F A0 0F B2 0F D2 0F AE 0F AB 0F 9D 0F 8C 0F AF 0F 96 0F 97 0F 71 0F 78 0F 5C 0F 5B 0F 37 0F 14 0E F3 0E EE 0E C4 0E B0 0E 9A 0E 9B 0E 90 0E 72 0E 66 0E 64 0E 45 0E 5E 0E 43 0E 29 0E 47 0E 3B 0E 22 0E 2F 0E 35 0E 22 0E 39 0E 2D 0E 22 0E 21 0E 1C 0E 07 0D FD 0E 17 0D F8 0E 14 0D EB 0D F7 0D EF 0E 13 0E 08 0E 2B 0E 2C 0E 33 0E 22 0D EE 0D FB 0D DF 0D C3 0D A9 0D D3 0D C1 0D A2 0D B9 0D 9B 0D AC 0D C4 0D B6 0D 9A 0D A4 0D 9A 0D A9 0D 82 0D 82 0D 69 0D 78 0D 78 0D 73 0D 75 0D 80 0D 7C 0D 84 0D 8B 0D A5 0D 93 0D A9 0D A1 0D 8F 0D 78 0D 7B 0D 64 0D 6E 0D 67 0D 4C 0D 4A 0D 5E 0D 47 0D 39 0D 5D 0D 4A 0D 28 0D 32 0D 21 0D 19 0D 23 0D 0F 0D 0C 0D 27 0D 25 0D 1B 0D 2E 0D 4E 0D 51 0D 6A 0D 5C 0D 62 0D 47 0D 3F 0D 12 0D 14 0D 10 0D 06 0C F0 0C E3 0C EA 0C EE 0C F6 0C D4 0C DA 0C F8 0D 0E 0C D8 0C E8 0C F7 0C DD 0C F7 0C EC 0D 0C 0C D7 0C FD 0C E8 0C FA 0C F8 0C ED 0C C7 0C DF 0C A9 0C CB 0C B8 0C C2 0C BD 0C BB 0C 9D 0C BA 0C A9 0C C1 0C BF 0C AD 0C AC 0C C3 0C A7 0C A0 0C BD 0C A7 0C AC 0C B3 0C 95 0C 94 0C 9D 0C A8 0C 71 0C A0 0C 7C 0C 87 0C 84 0C 8E 0C 95 0C B0 0C 94 0C 96 0C A7 0C C0 0C B9 0C BE 0C B5 0C D2 0C B2 0C DD 0C D2 0C D9 0C C2 0C C3 0C AF 0C D5 0C E1 0C D1 0C BF 0C B3 0C 9E 0C B0 0C A5 0C 93 0C 84 0C 8F 0C 7C 0C 7D 0C 53 0C 6E 0C 6B 0C 65 0C 7A 0C 42 0C 58 0C 53 0C 4B 0C 60 0C 8A 0C A8 0C 97 0C 7B 0C 57 0C 4F 0C 26 0C 26 0C 1B 0C 13 0C 26 0B F9 0B F8 0C 08 0B F6 0B E6 0B E3 0B F7 0B ED 0B E4 0B D7 0B DB 0B E3 0B C6 0B CD 0B CF 0B CD 0B BE 0B A7 0B CB 0B B9 0B C3 0B 96 0B A3 0B B5 0B CB 0B 99 0B BB 0B A2 0B A1 0B B0 0B CF 0B C2 0B B3 0B A0 0B A6 0B 8F 0B 9A 0B 98 0B 7A 0B 95 0B 97 0B 7D 0B 97 0B 7C 0B 9A 0B 92 0B 91 0B 7C 0B 8C 0B 7F 0B 82 0B 73 0B 5E 0B 6A 0B 87 0B 6A 0B 78 0B 59 0B 64 0B 79 0B 73 0B 60 0B 72 0B 71 0B 65 0B 4F 0B 72 0B 4D 0B 57 0B 45 0B 6C 0B 53 0B 65 0B 69 0B 4E 0B 4E 0B 68 0B 4F 0B 47 0B 60 0B 7D 0B 65 0B 95 0B B1 0C 17 0C A4 0C DB 0C 5E 0C 15 0B CF 0B D0 0B AA 0B E7 0C 01 0B FC 0B D7 0B 90 0B 83 0B 90 0B 62 0B 62 0B 60 0B 7E 0B A1 0B 98 0B 77 0B 84 0B 57 0B 58 0B 50 0B 51 0B 3B 0B 45 0B 3A 0B 47 0B 3C 0B 47 0B 1D 0B 27 0B 10 0B 1E 0B 2C 0B 24 0B 11 0B 15 DD DD AA AA A7 30 </p>
<h3 id="附录4-样品信号数据"><a href="#附录4-样品信号数据" class="headerlink" title="附录4 样品信号数据"></a>附录4 样品信号数据</h3><p>06 AA 55 BB 44 CC 33 DD 22 0A E6 0A E6 0A E9 0A E3 0A D9 0A DC 0A CD 0A E4 0A EA 0A E0 0A EA 0A E4 0A E4 0A D2 0A F1 0A FC 0A FC 0A F0 0A CE 0A F4 0A F9 0B 07 0B 08 0B 28 0B 0A 0B 11 0B 17 0B 19 0B 12 0B 28 0B 22 0B 31 0B 3A 0B 43 0B 35 0B 41 0B 31 0B 7E 0B 62 0B 72 0B 71 0B 6C 0B 5C 0B 6D 0B 75 0B 91 0B 75 0B 82 0B 7D 0B A2 0B 80 0B A7 0B 95 0B A7 0B AD 0B BE 0B CD 0B B2 0B D2 0B DA 0B E9 0B F4 0C 1C 0C 32 0C 37 0C 39 0C 4B 0C 6C 0C 8A 0C DA 0D 15 0D 70 0E 36 0F 47 10 63 10 87 0F A1 0E F0 0E B1 0E 2E 0D E7 0E 0C 0E 33 0E 2F 0E 25 0E 2E 0E 21 0E 1C 0E 21 0E 40 0E 69 0E E6 0F 66 10 55 11 01 11 25 10 6B 0F CF 0F E5 10 67 11 BB 12 F3 12 9A 11 53 10 44 0F 6D 0F 1A 0E FE 0F 39 0F 6C 0E F0 0E A2 0E 7B 0E 6A 0E 70 0E D5 0F 52 0F C7 10 72 11 AB 12 87 12 7B 10 F7 10 43 0F BF 0F 84 0F 51 0F 28 0F 21 0F 71 0F CE 0F AC 0F BD 0F A0 0F 81 0F 82 0F FA 10 9F 10 84 10 17 0F C5 0F 9A 0F 7E 0F 94 0F DF 0F FC 10 17 10 13 10 19 10 58 10 A1 11 13 11 A0 12 3B 12 27 11 F7 12 2C 12 63 12 94 12 E5 12 C9 12 66 12 43 12 3C 12 92 13 0C 13 3B 12 F4 12 95 12 61 12 C5 13 2F 13 65 13 71 13 78 13 D6 13 A9 13 1C 12 9E 12 34 12 10 11 D4 11 B1 11 AD 11 57 11 3B 11 2F 11 4A 11 3D 11 70 11 84 11 E5 12 41 12 9B 12 B1 12 73 12 A3 12 B5 12 9D 12 5A 12 71 12 F2 12 F2 12 8B 12 0E 12 14 11 FF 12 26 12 43 12 2D 11 D6 11 D0 11 ED 12 14 12 80 13 14 13 15 12 DC 12 94 12 76 12 29 11 C9 11 A5 11 86 11 89 11 90 11 98 11 6E 11 A6 11 A8 11 98 11 61 11 53 11 46 11 3C 11 53 11 59 11 6B 11 6F 11 77 11 7C 11 B4 11 D6 11 F5 12 3F 12 AE 13 06 13 24 12 FC 12 E8 12 DE 12 D7 13 00 13 38 13 5F 13 96 13 97 13 E6 14 47 14 94 14 DC 15 18 15 7B 15 EC 16 7F 17 0D 16 D8 16 68 16 97 17 75 18 3F 19 08 18 7E 17 19 15 F3 15 53 14 D7 14 91 14 71 14 42 14 10 13 C5 13 81 13 86 13 73 13 81 13 8A 13 66 13 52 13 49 13 89 13 A2 13 DA 14 53 14 9A 14 A1 14 45 13 ED 13 B5 13 B1 13 DD 13 D5 14 0D 14 68 14 86 14 C1 14 E2 15 3B 15 65 15 D3 15 BE 15 E9 15 E0 16 39 16 95 17 5D 17 E7 17 C3 17 BE 18 0E 18 36 17 FE 17 AA 17 68 17 5B 17 6D 17 71 17 99 17 99 17 98 17 95 17 A2 17 F8 18 6D 18 90 19 09 19 0E 18 F5 18 9C 18 A0 18 7F 18 90 18 B6 19 08 19 04 18 E0 18 C9 18 AB 18 C2 18 99 18 C2 18 E8 19 01 19 46 19 A7 19 D2 1A 39 1A E1 1B 54 1C 1D 1C 78 1C 7A 1B F6 1C 13 1B A0 1A 63 17 FB 15 D0 15 4F 16 04 16 2D 17 05 17 78 17 29 16 EA 16 C5 16 BC 17 14 17 74 17 9A 17 7A 16 CF 16 3B 15 C3 15 CA 15 AF 15 DC 15 D6 15 EC 16 39 16 6C 16 5A 16 05 15 BB 15 B0 15 B2 15 C6 15 D3 16 08 16 34 16 3B 16 30 15 E9 16 23 15 FE 15 D8 15 CE 15 FB 15 C1 15 82 15 3E 15 14 15 09 15 1E 15 37 15 6E 15 BC 16 87 17 48 17 90 16 F0 16 3A 15 EB 15 9D 15 53 15 45 15 3F 15 39 15 41 15 5C 15 4E 14 E5 14 D8 14 7C 14 3D 14 4C 14 38 14 4B 14 89 14 99 14 4F 14 3B 14 39 14 69 14 99 14 9E 14 D8 14 FB 15 07 15 63 16 00 16 A6 17 E1 19 DA 1C A8 1D F5 1C 00 19 66 18 7B 18 E1 19 6C 19 38 18 12 16 EF 16 94 16 CB 17 9B 17 99 16 1D 14 FA 14 3C 13 B6 13 82 13 8E 13 8B 13 8A 13 41 12 FF 12 C9 12 B2 12 90 12 81 12 61 12 44 12 42 12 39 12 1C 11 F7 11 F6 11 C4 11 94 11 84 11 65 11 4E 11 2A 11 1B 11 08 10 EE 10 F6 10 BC 10 96 10 7B 10 5D 10 6D 10 7A 10 C9 10 D3 10 F3 10 CF 10 AA 10 54 10 18 10 25 10 48 10 54 10 72 10 98 10 FA 11 43 11 89 11 DF 12 8C 13 B1 13 BF 12 CB 11 D6 11 54 11 29 11 69 11 DF 11 EF 11 7D 11 0F 10 DF 10 F8 11 28 10 CC 10 B5 10 90 10 CB 11 61 11 F3 12 44 12 20 11 96 11 36 10 D5 10 9D 10 64 10 78 10 7D 10 75 10 15 0F FB 0F C7 0F AB 0F A1 0F 98 0F 98 0F B6 0F B8 0F B2 0F 8E 0F 6B 0F 67 0F 6E 0F 73 0F 78 0F 5F 0F 4D 0F 90 0F 84 0F 8E 0F 95 0F 8B 0F 92 0F AE 0F BD 0F D4 0F E9 10 00 10 27 0F F2 0F FA 0F F7 10 1F 10 0C 10 2F 10 50 10 64 10 47 10 44 10 44 10 39 10 38 10 45 0F F5 0F EA 0F C4 0F C1 0F AD 0F A3 0F 80 0F 8A 0F 64 0F 82 0F 62 0F 72 0F 67 0F 66 0F 88 0F 77 0F 6D 0F 7B 0F 78 0F 98 0F 88 0F 98 0F 8F 0F 6A 0F 8A 0F 8D 0F 7D 0F 9F 0F B8 0F CD 0F E4 10 18 0F E0 0F A9 0F 6D 0F 46 0F 3E 0F 57 0F 48 0F 6E 0F 9B 0F B7 0F E7 0F E8 0F E3 0F B0 0F 9B 0F 48 0F 49 0F 57 0F 75 0F 8E 0F 49 0F 2B 0E E8 0E DD 0E CC 0E BA 0E B8 0E C3 0E 93 0E 9E 0E 8F 0E 7B 0E 71 0E 81 0E 7A 0E 69 0E 6E 0E 57 0E 57 0E 70 0E 6D 0E 69 0E 7C 0E B2 0E A9 0E C0 0E DA 0E C3 0E C2 0E C3 0E B2 0E D4 0E BF 0E BA 0E 9D 0E BA 0E 9C 0E A7 0E 8C 0E 69 0E 48 0E 50 0E 27 0E 29 0E 17 0E 1B 0E 16 0D F7 0D F4 0D F0 0D E1 0D F8 0D D6 0D C6 0D E1 0D E5 0D CE 0D D7 0D E0 0D D5 0D E8 0D D9 0D CE 0D D4 0D D4 0D BE 0D B3 0D D4 0D B3 0D CC 0D A2 0D B0 0D A4 0D D1 0D CA 0D E5 0D EC 0D F7 0D EE 0D BC 0D C5 0D AC 0D 95 0D 85 0D AB 0D 9D 0D 85 0D 99 0D 7F 0D 96 0D AC 0D 9F 0D 88 0D 87 0D 87 0D 9F 0D 7B 0D 89 0D 6C 0D 80 0D 7D 0D 7C 0D 7D 0D 8C 0D 8D 0D 98 0D 96 0D BC 0D A0 0D C7 0D C9 0D B4 0D 9C 0D A7 0D 90 0D AA 0D 9D 0D 99 0D 87 0D AB 0D 8B 0D 88 0D BA 0D 9B 0D 83 0D 91 0D 7C 0D 75 0D 82 0D 73 0D 6D 0D 90 0D 8A 0D 88 0D 92 0D BC 0D C8 0D E9 0D E1 0D EC 0D CD 0D CF 0D 9A 0D 9A 0D 93 0D 8A 0D 7B 0D 78 0D 6E 0D 85 0D 84 0D 67 0D 73 0D 9C 0D AF 0D 78 0D 9E 0D A8 0D 91 0D B3 0D A3 0D D1 0D A6 0D CB 0D C5 0D CC 0D C7 0D B6 0D 91 0D A7 0D 72 0D A0 0D 91 0D AA 0D 9D 0D A0 0D 8D 0D AF 0D A3 0D AC 0D A0 0D 8E 0D 88 0D 9F 0D 80 0D 7A 0D 95 0D 81 0D 7D 0D 8A 0D 65 0D 6E 0D 6F 0D 83 0D 4E 0D 87 0D 64 0D 71 0D 77 0D 7F 0D 92 0D BA 0D A1 0D B0 0D C5 0D DE 0D D8 0D EE 0D E7 0D FF 0D E3 0E 11 0D FA 0D FD 0D D8 0D E5 0D D4 0D F7 0E 08 0D EB 0D E3 0D D2 0D C4 0D DF 0D CE 0D B5 0D B3 0D BD 0D A0 0D A0 0D 6C 0D 8D 0D 87 0D 7C 0D 97 0D 64 0D 7C 0D 7F 0D 85 0D A2 0D F3 0E 37 0E 22 0D DE 0D A4 0D 87 0D 67 0D 5B 0D 45 0D 3D 0D 46 0D 1E 0D 1F 0D 2F 0D 20 0D 13 0D 0F 0D 24 0D 1B 0D 16 0D 0A 0D 03 0D 0B 0C F2 0C F9 0C FE 0C FA 0C E7 0C DF 0D 07 0C FA 0D 0C 0C E0 0C EA 0C FE 0D 09 0C D3 0C F5 0C E2 0C E8 0D 03 0D 22 0D 20 0D 0B 0C E5 0C E9 0C CF 0C D0 0C CF 0C AF 0C CC 0C D2 0C B6 0C D4 0C BB 0C D1 0C CB 0C BE 0C B0 0C BB 0C B0 0C AB 0C 9F 0C 8E 0C 9B 0C BC 0C 9D 0C A6 0C 8F 0C A0 0C BB 0C B4 0C A3 0C BB 0C B7 0C B1 0C 96 0C B3 0C 94 0C 98 0C 84 0C AD 0C 96 0C A9 0C B2 0C 95 0C 93 0C AF 0C A6 0C 9E 0C BF 0C EF 0C FC 0D 48 0D B0 0E D9 10 CC 11 BF 10 52 0E EE 0E 03 0D D0 0D A0 0E 14 0E 90 0E A2 0E 0D 0D 55 0D 1B 0D 10 0C D2 0C D2 0C E0 0D 12 0D 7B 0D C3 0D 9F 0D 70 0D 03 0C E9 0C CE 0C CB 0C AD 0C BE 0C B6 0C E4 0C EF 0C E4 0C AD 0C B4 0C 8B 0C 8D 0C 9E 0C 8E 0C 6F 0C 7C DD DD AA AA 79 D0 </p>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="header cap theme"><span>接下来阅读</span></section><section class="body fs14"><div class="line"></div><a id="prev" href="/2022/06/13/%E6%96%87%E7%AB%A0%E4%BF%AE%E9%A5%B0%E6%A0%87%E7%AD%BE%E9%9B%86%E5%90%88/">文章修饰标签集合<span class="note">较新</span></a></section></div>








      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
<p>本站由 <a href="http://example.com/">@HaoYu Liu</a> 创建，使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.8.0" title="v1.8.0">Stellar</a> 作为主题。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.8.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://fastly.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@6/swiper-bundle.min.css","js":"https://unpkg.com/swiper@ 6/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://fastly.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://fastly.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti/umd/heti.min.css","js":"https://unpkg.com/heti/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
